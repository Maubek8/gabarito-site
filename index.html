<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuração de Prova: 4 Passos</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>Configuração de Prova</h1>
        
        <!-- Busca de Gabarito no Cabeçalho -->
        <header>
            <h2>Buscar Gabarito</h2>
            <input type="text" id="searchGabarito" placeholder="Buscar por nome ou data">
            <button id="btnSearchGabarito">Buscar</button>
        </header>

        <!-- Passo 1: Inserir Gabarito -->
        <section id="passo1">
            <h2>Passo 1: Inserir o Gabarito da Prova</h2>
            <form method="post" id="gabaritoForm">
                <div class="form-group">
                    <label for="numQuestions">Número de Questões:</label>
                    <input type="number" id="numQuestions" name="numQuestions" min="1" required>
                </div>

                <div id="questionsInput" class="form-group"></div>

                <button type="button" id="addQuestions">Inserir Questões</button>
                <button type="submit">Salvar Gabarito</button>
            </form>

            <div id="gabaritoMessage" class="message"></div>
            <div id="gabaritoActions">
                <button id="editGabarito" style="display:none;">Editar Gabarito</button>
                <button id="printGabarito" style="display:none;">Imprimir Gabarito</button>
            </div>
        </section>

        <hr>

        <!-- Passo 2: Inserir Alunos e Gerar Gabaritos -->
        <section id="passo2">
            <h2>Passo 2: Inserir Alunos e Gerar Gabaritos</h2>
            <form id="alunosForm">
                <div class="form-group">
                    <label for="examName">Nome da Prova:</label>
                    <input type="text" id="examName" name="examName" required>
                </div>

                <div class="form-group">
                    <label for="examDate">Data da Prova:</label>
                    <input type="date" id="examDate" name="examDate" required>
                </div>

                <div class="form-group">
                    <label for="numStudents">Número de Alunos:</label>
                    <input type="number" id="numStudents" name="numStudents" min="1" required>
                </div>

                <div id="studentsInput" class="form-group"></div>

                <button type="button" id="addStudents">Inserir Alunos</button>
                <button type="submit">Salvar Alunos</button>
            </form>

            <div id="alunosMessage" class="message"></div>
            <div id="alunosActions">
                <button id="editAlunos" style="display:none;">Editar Alunos</button>
                <button id="printAlunos" style="display:none;">Imprimir Folhas de Resposta</button>
            </div>
        </section>

        <hr>

        <!-- Passo 3: Captura de Gabaritos via Câmera -->
        <section id="passo3">
            <h2>Passo 3: Captura de Gabarito via Câmera</h2>
            <div class="camera-section">
                <video id="video" width="320" height="240" autoplay></video>
                <br>
                <button id="captureButton" class="capture-btn">Capturar Imagem</button>
            </div>
            <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>

            <div id="correctionMessage" class="message"></div>
        </section>

        <hr>

        <!-- Passo 4: Finalizar e Gerar Resultados -->
        <section id="passo4">
            <h2>Passo 4: Finalizar Correção e Exibir Resultados</h2>
            <button id="finishCorrection">Finalizar Correção</button>
            <div id="resultados">
                <!-- Lista de alunos e suas notas aparecerá aqui -->
            </div>
            <button id="printResultados" style="display:none;">Imprimir Resultados</button>
        </section>
    </div>

    <script src="js/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>
    <script src="js/camera.js"></script>
</body>
</html>

